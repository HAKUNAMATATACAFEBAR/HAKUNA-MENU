<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hakuna Matata | Menú Completo</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --orange: #ff8c00; --bg: #0a0a0a; --card: #161616; --text: #ffffff; --gray: #999999; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Montserrat', sans-serif; margin: 0; min-height: 100vh; }
        header { text-align: center; padding: 40px 20px; background: rgba(0,0,0,0.9); border-bottom: 2px solid var(--orange); }
        .logo { font-family: 'Oswald', sans-serif; font-size: 2.2rem; color: var(--orange); letter-spacing: 4px; margin: 0; text-transform: uppercase; }
        .container { max-width: 600px; margin: auto; padding: 20px; }
        .cat-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .cat-card { background: var(--card); border: 1px solid #333; padding: 20px 5px; text-align: center; border-radius: 12px; cursor: pointer; display: flex; align-items: center; justify-content: center; min-height: 60px; }
        .cat-card h3 { margin: 0; font-family: 'Oswald'; color: var(--orange); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }
        #view-products { display: none; }
        .back-nav { color: var(--orange); cursor: pointer; font-size: 0.8rem; margin-bottom: 20px; display: block; font-weight: bold; }
        .product-item { background: #1a1a1a; margin-bottom: 12px; padding: 15px; border-radius: 10px; border-left: 4px solid var(--orange); }
        .p-main-row { display: flex; justify-content: space-between; align-items: baseline; }
        .p-name { font-family: 'Oswald'; color: var(--orange); font-size: 1.1rem; text-transform: uppercase; }
        .p-price { font-family: 'Oswald'; color: #fff; font-size: 1.1rem; }
        .p-desc-view { font-size: 0.8rem; color: #bbb; margin-top: 5px; line-height: 1.3; }
        .admin-input { background: #000; border: 1px solid var(--orange); color: #fff; padding: 8px; width: 100%; margin-top: 5px; border-radius: 4px; box-sizing: border-box; font-size: 0.9rem; }
        .admin-btn { background: #222; border: 1px solid #444; color: #888; padding: 8px 12px; border-radius: 20px; cursor: pointer; font-size: 0.65rem; margin-top: 10px; }
    </style>
</head>
<body>

<header>
    <h1 class="logo">HAKUNA MATATA</h1>
    <button class="admin-btn" onclick="authAdmin()">⚙️ PANEL</button>
    <button class="admin-btn" onclick="limpiarTodo()" style="color: #666;">♻️ RESET</button>
</header>

<div class="container">
    <div id="view-categories" class="cat-grid"></div>
    <div id="view-products">
        <span class="back-nav" onclick="showHome()">← VOLVER AL MENÚ</span>
        <h2 id="cat-title" style="font-family:'Oswald'; color: white; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 10px;"></h2>
        <div id="product-list"></div>
        <button id="add-item-btn" style="display:none; width:100%; padding:15px; background:var(--orange); border:none; border-radius:10px; font-weight:700; cursor:pointer; margin-top: 20px;" onclick="addNew()">+ AGREGAR PRODUCTO</button>
    </div>
</div>

<script>
    const CLAVE = "Juano0709+";
    let modoAdmin = false;
    let categoriaActual = "";

    const menuInicial = {
        "Entradas": { items: [{n: "PATACONES x10", p: "13.500", d: ""}, {n: "AREPAS FRITAS x10", p: "12.000", d: ""}, {n: "PAPAS FRANCESA", p: "8.000", d: ""}] },
        "Hamburguesas": { items: [{n: "TRADICIONAL", p: "25.000", d: "CARNE CASA, PAN BRIOCHE, TOCINETA, MOZZARELLA, BBQ, VEGETALES."}, {n: "HAWAIANA", p: "27.000", d: "PIÑA ASADA, CARNE CASA, TOCINETA, MOZZARELLA."}, {n: "GRATINADA", p: "30.000", d: "EXTRA QUESO, CARNE CASA, TOCINETA."}, {n: "CHORIZO", p: "27.000", d: "CARNE DE CHORIZO, VEGETALES."}] },
        "Carnes": { items: [{n: "PUNTA DE ANCA", p: "42.000", d: "250g, PAPA, ENSALADA, PIÑA, GUACAMOLE."}, {n: "CHURRASCO", p: "42.000", d: "250g, PAPA, ENSALADA, PIÑA, GUACAMOLE."}, {n: "PICADA HAKUNA X2", p: "60.000", d: "RES, CERDO, POLLO, CHORIZO, PAPA, PATACÓN."}] },
        "Salchipapas": { items: [{n: "MINI", p: "18.000", d: ""}, {n: "TRADICIONAL", p: "26.000", d: "SALCHICHA AHUMADA, QUESOS, TOCINETA."}, {n: "ESPECIAL", p: "30.000", d: "CARNE, POLLO, MAÍZ, QUESOS."}] },
        "Maicitos": { items: [{n: "MAICITOS", p: "27.000", d: "RES, POLLO, TOCINETA, QUESOS, CHICHARRÓN."}] },
        "Quesadillas": { items: [{n: "QUESADILLAS", p: "16.000", d: "CARNE, POLLO, MOZZARELLA, SALSA MAÍZ."}] },
        "Jugos en Agua": { items: [{n: "MARACUYÁ", p: "7.500", d: ""}, {n: "MANGO", p: "7.500", d: ""}, {n: "FRESA", p: "7.500", d: ""}, {n: "LULO", p: "7.500", d: ""}] },
        "Jugos en Leche": { items: [{n: "MARACUYÁ", p: "8.500", d: ""}, {n: "MANGO", p: "8.500", d: ""}, {n: "MORA", p: "8.500", d: ""}, {n: "FRESA", p: "8.500", d: ""}] },
        "Frappés": { items: [{n: "MANGO BICHE", p: "13.500", d: ""}, {n: "MILO", p: "14.000", d: ""}, {n: "CAFÉ", p: "14.000", d: ""}, {n: "FRAPPUCCINO", p: "16.000", d: ""}] },
        "Malteadas": { items: [{n: "VAINILLA", p: "17.000", d: ""}, {n: "CHOCOLATE", p: "17.000", d: ""}, {n: "OREO", p: "17.000", d: ""}, {n: "CAFÉ", p: "17.000", d: ""}] },
        "Mezclas y Sodas": { items: [{n: "MEZCLA FRESCA 1", p: "16.000", d: "SODA, MARACUYÁ, CEREZA, LIMÓN."}, {n: "SODA SABORIZADA", p: "12.000", d: ""}] },
        "Cocteles": { items: [{n: "MARGARITA", p: "25.000", d: ""}, {n: "MOJITO", p: "26.000", d: ""}, {n: "PIÑA COLADA", p: "28.000", d: ""}, {n: "VINO CALIENTE", p: "28.000", d: ""}] },
        "Café": { items: [{n: "AMERICANO", p: "5.000", d: ""}, {n: "LATTE", p: "7.000", d: ""}, {n: "CAPUCCINO", p: "8.500", d: ""}, {n: "AFFOGATO", p: "14.000", d: ""}] },
        "Café con Licor": { items: [{n: "CARAJILLO", p: "11.000", d: ""}, {n: "CAPUCCINO BAILEYS", p: "14.000", d: ""}] },
        "Chocolate y Milo": { items: [{n: "MILO FRÍO", p: "12.000", d: ""}, {n: "CHOCO LECHE", p: "8.000", d: ""}, {n: "MILOMELO", p: "15.000", d: ""}] },
        "Aromáticas": { items: [{n: "SENCILLA", p: "4.000", d: ""}, {n: "AGUAPANELA QUESO", p: "9.000", d: ""}] },
        "Cervezas y más": { items: [{n: "CORONA", p: "12.000", d: ""}, {n: "CLUB COLOMBIA", p: "10.000", d: ""}, {n: "AZTECA", p: "17.500", d: "TEQUILA, LIMÓN, MANGO BICHE."}] },
        "Limonadas": { items: [{n: "NATURAL", p: "7.500", d: ""}, {n: "COCO", p: "11.000", d: ""}, {n: "CEREZA", p: "11.000", d: ""}, {n: "VINO", p: "20.000", d: ""}] },
        "Adiciones": { items: [{n: "QUESO", p: "5.000", d: ""}, {n: "LICOR", p: "6.000", d: ""}] }
    };

    let datosMenu = JSON.parse(localStorage.getItem('hakuna_final_db')) || menuInicial;

    function renderCategorias() {
        const grid = document.getElementById('view-categories');
        grid.innerHTML = "";
        Object.keys(datosMenu).forEach(cat => {
            const btn = document.createElement('div');
            btn.className = 'cat-card';
            btn.innerHTML = `<h3>${cat}</h3>`;
            btn.onclick = () => abrirCategoria(cat);
            grid.appendChild(btn);
        });
    }

    function abrirCategoria(cat) {
        categoriaActual = cat;
        document.getElementById('view-categories').style.display = 'none';
        document.getElementById('view-products').style.display = 'block';
        document.getElementById('cat-title').innerText = cat;
        renderProductos();
        window.scrollTo(0,0);
    }

    function renderProductos() {
        const lista = document.getElementById('product-list');
        lista.innerHTML = "";
        datosMenu[categoriaActual].items.forEach((item, idx) => {
            const div = document.createElement('div');
            div.className = 'product-item';
            if(modoAdmin) {
                div.innerHTML = `
                    <input class="admin-input" value="${item.n}" oninput="actualizar(${idx},'n',this.value)">
                    <input class="admin-input" value="${item.p}" oninput="actualizar(${idx},'p',this.value)">
                    <textarea class="admin-input" oninput="actualizar(${idx},'d',this.value)">${item.d}</textarea>
                    <button onclick="borrar(${idx})" style="color:red; margin-top:8px; background:none; border:none; cursor:pointer; font-size:10px;">[ELIMINAR]</button>
                `;
            } else {
                div.innerHTML = `
                    <div class="p-main-row"><span class="p-name">${item.n}</span><span class="p-price">$${item.p}</span></div>
                    ${item.d ? `<div class="p-desc-view">${item.d}</div>` : ''}
                `;
            }
            lista.appendChild(div);
        });
        document.getElementById('add-item-btn').style.display = modoAdmin ? 'block' : 'none';
    }

    function showHome() {
        document.getElementById('view-categories').style.display = 'grid';
        document.getElementById('view-products').style.display = 'none';
    }

    function authAdmin() {
        const pass = prompt("Clave:");
        if(pass === CLAVE) {
            modoAdmin = true;
            renderCategorias();
            if(categoriaActual) renderProductos();
            alert("ADMIN ACTIVADO");
        } else {
            alert("INCORRECTA");
        }
    }

    function actualizar(idx, campo, valor) {
        datosMenu[categoriaActual].items[idx][campo] = valor;
        localStorage.setItem('hakuna_final_db', JSON.stringify(datosMenu));
    }

    function addNew() {
        datosMenu[categoriaActual].items.push({n: "NUEVO", p: "0", d: ""});
        renderProductos();
    }

    function borrar(idx) {
        if(confirm("¿Borrar?")) {
            datosMenu[categoriaActual].items.splice(idx, 1);
            renderProductos();
            localStorage.setItem('hakuna_final_db', JSON.stringify(datosMenu));
        }
    }

    function limpiarTodo() {
        if(confirm("¿Restaurar todo el menú?")) {
            localStorage.removeItem('hakuna_final_db');
            location.reload();
        }
    }

    renderCategorias();
</script>
</body>
</html>

